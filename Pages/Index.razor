@page "/"
@using ShoppingList.Data

<PageTitle>ShoppingList</PageTitle>

<h1>Shopping List</h1>

<input placeholder="Grocery Name" @bind="groceryName"/>
<input placeholder="Grocery Price" @bind="groceryPrice"/>
<button @onclick="AddGrocery">Add Grocery</button>

@*example of one way binding using the @ sign*@
<h2>Total Price: $@sum</h2>

<ul>
    @foreach(var item in groceries)
    {
        <li>@item.Name -- @item.Price</li>
    }
</ul>



@code {
    private decimal sum;
    private string groceryName = "";
    private decimal groceryPrice;
    private List<GroceryItem> groceries = new();

    private void AddGrocery()
    {
        if(!string.IsNullOrWhiteSpace(groceryName) 
            && groceryPrice > 0)
        {
            groceries.Add(new GroceryItem
                {
                    Name = groceryName,
                    Price = groceryPrice
                });
            sum += groceryPrice;
            groceryName = "";
            groceryPrice = 0;
        }
    }
}